<!DOCTYPE html><html><head><title>Reports</title><script src="nav.js"></script></head>
<body><div class="container">
    <h1>ðŸ“Š Business Financial Reports</h1>
    <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
        <div class="card" style="border-left: 5px solid #28a745;">
            <h4>Net Revenue (Paid)</h4>
            <h2 id="rev">$0.00</h2>
        </div>
        <div class="card" style="border-left: 5px solid #dc3545;">
            <h4>Accounts Receivable (Debt)</h4>
            <h2 id="debt">$0.00</h2>
            <small id="debtCount">0 customers owe money</small>
        </div>
        <div class="card" style="border-left: 5px solid #ffc107;">
            <h4>VAT Liability</h4>
            <h2 id="tax">$0.00</h2>
        </div>
    </div>
</div>
<script>
    const sales = JSON.parse(localStorage.getItem('salesHistory')) || [];
    const custs = JSON.parse(localStorage.getItem('customers')) || [];
    
    const totalRev = sales.reduce((a, b) => a + (b.total || 0), 0);
    const totalTax = sales.reduce((a, b) => a + (b.vat || 0), 0);
    const totalDebt = custs.reduce((a, b) => a + (b.balance || 0), 0);
    const debtors = custs.filter(c => c.balance > 0).length;

    document.getElementById('rev').innerText = "$" + totalRev.toFixed(2);
    document.getElementById('tax').innerText = "$" + totalTax.toFixed(2);
    document.getElementById('debt').innerText = "$" + totalDebt.toFixed(2);
    document.getElementById('debtCount').innerText = `${debtors} customers owe money`;
</script></body></html>